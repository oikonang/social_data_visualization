<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3 First page</title>
        <script type="text/javascript" src="d3.js">
        </script>
        <style type="text/css">
            p {
                font-size: 24px;
                font-weight: bold;
				font-family: Helvetica, Arial, sans-serif;
            }
            div.space {
                width:700px;
                height:80px;
            }
            div.bar {
                display: inline-block;
                width: 20px;
                height: 75px;   /* We'll override height later */
                background-color: teal;
                margin-right: 2px;
            }
            div.p {
                font-size: 20px;
                font-weight: bold;
                font-style: italic;
            }
 
            }
        </style>
    </head>
    <body>
        
        <!--Create a space div-->
        <!-- ------------------------------------------------------------------------------------------------------------- -->
        <div class="space">
            <p>Create a barplot with randomly generated numbers as SVGs</p>
        </div>
        <!--Create a barplot with randomly generated numbers as SVGs-->
        <script type="text/javascript">
            //Create the random dataset function that returns a list of rundom numbers
            function randomizer(number){
                var dataset = [];
                for (var i = 0; i < number; i++) {
                    var newNumber = Math.round(Math.random() * 30);
                    dataset.push(newNumber)
                }
                return dataset;
            }
            //Width and height
            var w = 500;
            var h = 150;
            var barPadding = 2;
            var barNumber = 24;

            //Create SVG element
            var svg = d3.select("body")
                        .append("svg")
                        .attr("width", w)
                        .attr("height", h);

            //Load the dataset ta variable            
            var dataset = randomizer(barNumber)
            //Add a rectangle to each element
            svg.selectAll("rect")
               .data(dataset)
               .enter()
               .append("rect")
               .attr("fill", function(d) {
                    return "rgb(100, 100, " + (d * 10) + ")";
                })
               .attr("x", function(d, i) {
                    return i * (w / dataset.length);
                })
               .attr("y", function(d) {
                    return h - (d * 4);  //Height minus data value to turn the plot upside-down
                })
               .attr("width", w / dataset.length - barPadding)
               .attr("height", function(d) {
                    return d * 4 ;  //Just the data value
                });

            //Add text(values) at the top of each rect
            svg.selectAll("text")
               .data(dataset)
               .enter()
               .append("text")
               .text(function(d) {
                    return d;
               })
               .attr("x", function(d, i) {
                    return i * (w / dataset.length) + 4;
                })
               .attr("y", function(d) {
                    return h - (d * 4) + 15;
               })
               .attr("font-family", "sans-serif")
               .attr("font-size", "11px")
               .attr("fill", "white"); 
        </script>
        <!--Create a space div-->
        <!-- ------------------------------------------------------------------------------------------------------------- -->
        <div class="space">
            <p>Create a scatterplot with randomly generated numbers</p>
        </div>
        <!--Create a scatterplot with randomly generated numbers as SVGs-->
        <script type="text/javascript">
          //Create the random dataset function that returns a list of rundom numbers
            function randomize_scatter(number){
                var dataset = [];
                for (var i = 0; i < number; i++) {
                    var x = Math.round(Math.random() * 500);
                    var y = Math.round(Math.random() * 90);
                    dataset.push([x,y])
                }
                return dataset;
            }
            var data_s = randomize_scatter(20);

            //Create scaled x
            var xScale = d3.scaleLinear()
                                 .domain([0, d3.max(dataset, function(d) { return d[0]; })]) // from 0 to maximum value of input
                                 .range([0, w]); //from 0 limited to the number of pixels declared in width

            //Create scaled y
            var yScale = d3.scaleLinear()
                                 .domain([0, d3.max(dataset, function(d) { return d[1]; })]) // from 0 to maximum value of input
                                 .range([0, h]); //from 0 limited to the number of pixels declared in high
            
            //Width and height
            var w_s = 500;
            var h_s = 150;

            //Create SVG element
            var svg_sc = d3.select("body")
                           .append("svg")
                           .attr("width", w_s)
                           .attr("height", h_s);

            svg_sc.selectAll("circle")  // <No longer "rect"
               .data(data_s)
               .enter()
               .append("circle")     // < No longer "rect"
               .attr("cx", function(d) {
                  return xScale(d[0]);
                })
                .attr("cy", function(d) {
                  return yScale(d[1]);
                })
                .attr("r", 5);
        </script>
    </body>
</html>
